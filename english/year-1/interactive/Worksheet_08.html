<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worksheet 08 - Tom and Sarah's Day (Simple Present Story)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root { --primary: #00519e; --success: #28a745; --error: #dc3545; --bg: #f8fafc; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #1e293b; line-height: 1.8; }
        .card { max-width: 900px; margin: 0 auto; background: white; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: var(--primary); color: white; padding: 30px; text-align: center; }
        .content { padding: 40px; font-size: 1.2rem; }
        .instr { background: #e0f2fe; padding: 15px; border-radius: 12px; border-left: 5px solid var(--primary); margin-bottom: 30px; font-weight: 500; }
        .gap-input { border: none; border-bottom: 2px solid #cbd5e1; background: #f1f5f9; padding: 2px 8px; border-radius: 4px; font-size: 1.1rem; color: var(--primary); font-weight: 600; min-width: 100px; text-align: center; }
        .correct { background: #dcfce7 !important; border-bottom-color: var(--success) !important; color: #166534; }
        .wrong { background: #fee2e2 !important; border-bottom-color: var(--error) !important; color: #991b1b; }
        .sol-text { font-size: 0.9rem; color: var(--success); font-weight: bold; display: none; }
        .sticky-bar { position: sticky; bottom: 20px; background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); padding: 15px; border-radius: 50px; display: flex; gap: 15px; justify-content: center; box-shadow: 0 10px 15px rgba(0,0,0,0.1); margin-top: 40px; }
        button { padding: 10px 20px; border-radius: 25px; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; }
        .btn-check { background: var(--primary); color: white; }
        .btn-check:disabled { opacity: 0.4; cursor: not-allowed; }
        .btn-pdf { background: var(--error); color: white; }
        #exportModal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; }
    </style>
</head>
<body>
    <div class="card">
        <div class="header"><h1>ðŸ‡¬ðŸ‡§ Worksheet 08 - Tom and Sarah's Day (Simple Present Story)</h1></div>
        <div class="content">
            <div class="instr">Read the story of Tom and Sarah. Fill in the correct Simple Present forms.</div>
            <div id="text-area"></div>
        </div>
    </div>
    <div class="sticky-bar">
        <button id="check-btn" class="btn-check" onclick="checkWork()" disabled>Check</button>
        <button id="pdf-btn" class="btn-pdf" onclick="document.getElementById('exportModal').style.display='flex'" disabled>Export PDF</button>
    </div>
    <div id="exportModal" onclick="this.style.display='none'"><div style="background:white;padding:30px;border-radius:15px;text-align:center" onclick="event.stopPropagation()">
        <h3>Export PDF</h3>
        <button class="btn-check" onclick="genPDF(false)">Student</button>
        <button class="btn-check" style="background:#64748b" onclick="genPDF(true)">Teacher</button>
    </div></div>
    <script>
        const tasks = ["Every morning, Tom ", " (wake up) at 7 o'clock. He ", " (go) to the bathroom and ", " (wash) his face. His sister Sarah ", " (not / like) mornings. She ", " (stay) in bed until 7:30. At 8 o'clock, sie ", " (eat) breakfast together. Tom ", " (drink) orange juice, but Sarah ", " (prefer) milk. Then, they ", " (walk) to school. On the way, they ", " (meet) their friends. Sarah ", " (talk) a lot, but Tom ", " (be) more quiet. At school, the teacher ", " (start) the lesson at 8:30. Tom ", " (listen) carefully. Sarah ", " (not / forget) her books today. In the afternoon, they ", " (come) home. Tom ", " (play) football in the garden, while Sarah ", " (read) a book. They ", " (do) their homework before dinner. It ", " (be) a busy but happy day!"]; const solutions = ["wakes up", "goes", "washes", "doesn't like", "stays", "eat", "drinks", "prefers", "walk", "meet", "talks", "is", "starts", "listens", "doesn't forget", "come", "plays", "reads", "do", "is"];
        const area = document.getElementById('text-area');
        tasks.forEach((t, i) => {
            area.appendChild(document.createTextNode(t));
            if(i < solutions.length) {
                const input = document.createElement('input');
                input.className='gap-input'; input.id='in-'+i; input.oninput=v;
                area.appendChild(input);
                const s = document.createElement('span'); s.id='sol-'+i; s.className='sol-text'; s.innerText=' ['+solutions[i]+']';
                area.appendChild(s);
            }
        });
        function v() { const all=document.querySelectorAll('input'); const filled=Array.from(all).filter(x=>x.value.trim()).length; document.getElementById('check-btn').disabled=(filled<all.length); }
        function checkWork() {
            solutions.forEach((s, i) => {
                const inp = document.getElementById('in-'+i);
                if(inp.value.trim().toLowerCase() === s.toLowerCase()) inp.classList.add('correct'); else inp.classList.add('wrong');
            });
            document.getElementById('pdf-btn').disabled=false;
        }
        function genPDF(s) {
            const { jsPDF } = window.jspdf; const doc = new jsPDF();
            doc.text('Worksheet 08 - Tom and Sarah's Day (Simple Present Story)', 20, 20);
            let out = ""; tasks.forEach((t, i) => { out += t; if(i<solutions.length) out += ' [' + document.getElementById('in-'+i).value + '] ' + (s ? '('+solutions[i]+')' : ''); });
            doc.setFontSize(10); doc.text(doc.splitTextToSize(out, 170), 20, 40);
            doc.save('Worksheet_08.pdf');
        }
    </script>
</body>
</html>